@echo off
REM
REM	This file is part of the "@CMAKE_PROJECT_NAME@/@PROJECT_NAME@" project.
REM	This file is generated automatically. Do not edit.
REM install iec_62056 service
REM	created : ${_NOW_UTC}
REM	platform: @CMAKE_SYSTEM@
REM
echo create service ${lowercase_project_name}_${PROJECT_NAME}_v${${CMAKE_PROJECT_NAME}_VERSION_MAJOR}
sc create ${lowercase_project_name}_${PROJECT_NAME}_v${${CMAKE_PROJECT_NAME}_VERSION_MAJOR} binpath= "$ENV{ProgramW6432}\solosTec\SMF\broker_iec.exe --config=\"$ENV{ProgramW6432}\solosTec\SMF\broker-iec_v${${CMAKE_PROJECT_NAME}_VERSION_MAJOR}.${${CMAKE_PROJECT_NAME}_VERSION_MINOR}.cfg\" --service.enabled=true" DisplayName= "${uppercase_project_name} IEC 62056-21 server v${${CMAKE_PROJECT_NAME}_VERSION_MAJOR}.x" type= share start= auto 
sc description ${lowercase_project_name}_${PROJECT_NAME}_v${${CMAKE_PROJECT_NAME}_VERSION_MAJOR} "IEC 62056-21 Broker v${${CMAKE_PROJECT_NAME}_VERSION_MAJOR}.x (${uppercase_project_name} Cluster node)"
sc failure ${lowercase_project_name}_${PROJECT_NAME}_v${${CMAKE_PROJECT_NAME}_VERSION_MAJOR} actions= restart/60000/restart/60000/restart/60000 reset= 86400
REM
REM Add a dependency to ${uppercase_project_name} primary service.
REM Modify or remove this dependency if ${uppercase_project_name} primary is running on a different node.
REM
sc config ${lowercase_project_name}_${PROJECT_NAME}_v${${CMAKE_PROJECT_NAME}_VERSION_MAJOR} depend= ${lowercase_project_name}_main_v${${CMAKE_PROJECT_NAME}_VERSION_MAJOR}/${lowercase_project_name}_ipt_v${${CMAKE_PROJECT_NAME}_VERSION_MAJOR}
@echo on
